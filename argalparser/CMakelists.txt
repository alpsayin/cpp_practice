cmake_minimum_required(VERSION 3.15)

if(NOT DEFINED IS_TOOLCHAIN_SET)

set(CMAKE_SYSTEM_NAME Generic CACHE INTERNAL "")
set(CMAKE_GENERATOR "MinGW Makefiles" CACHE INTERNAL "")
#  specify the cross compiler
if(WIN32)
set(toolchain "c:/SysGCC/mingw32" CACHE INTERNAL "")
set(TOOLCHAIN_EXECUTABLE_EXTENSION .exe CACHE INTERNAL "")
set(CMAKE_MAKE_PROGRAM "${toolchain}/bin/mingw32-make${TOOLCHAIN_EXECUTABLE_EXTENSION}" CACHE INTERNAL "")
elseif(UNIX)
set(toolchain "/usr/bin/" CACHE INTERNAL "")
set(TOOLCHAIN_EXECUTABLE_EXTENSION CACHE INTERNAL "")
set(CMAKE_MAKE_PROGRAM "${toolchain}/bin/make${TOOLCHAIN_EXECUTABLE_EXTENSION}" CACHE INTERNAL "")
else()
message(FATAL_ERROR "Unsupported platform.")
endif()

set(CMAKE_C_COMPILER "${toolchain}/bin/gcc${TOOLCHAIN_EXECUTABLE_EXTENSION}" CACHE INTERNAL "")
set(CMAKE_CXX_COMPILER "${toolchain}/bin/g++${TOOLCHAIN_EXECUTABLE_EXTENSION}" CACHE INTERNAL "")
set(CMAKE_OBJSIZE "${toolchain}/bin/size${TOOLCHAIN_EXECUTABLE_EXTENSION}" CACHE INTERNAL "")
set(CMAKE_OBJCOPY "${toolchain}/bin/objcopy${TOOLCHAIN_EXECUTABLE_EXTENSION}" CACHE INTERNAL "")

set(IS_TOOLCHAIN_SET true CACHE INTERNAL "")

endif()

project(argalparser)

message("!!! Project Name " ${PROJECT_NAME})

add_library(${PROJECT_NAME} src/argalparser.cpp)
target_include_directories(${PROJECT_NAME} PUBLIC include)
